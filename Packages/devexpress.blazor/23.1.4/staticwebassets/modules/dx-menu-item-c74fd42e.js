import{_ as e}from"./_tslib-6e8ca86b.js";import{S as t}from"./single-slot-element-base-d44a6577.js";import{C as n}from"./custom-events-helper-18f7786a.js";import{e as s}from"./property-d3853089.js";import{e as o}from"./custom-element-267f9a21.js";var a;class i{}i.invisible="dxbl-invisible",i.menuBar="dxbl-menu-bar",i.menuLoading="dxbl-menu-loading",i.menuItemTextContainer="dxbl-menu-item-text-container",i.navigation="dxbl-menu-item-list",i.menuItemTextHiddenClass="dxbl-menu-text-hidden",i.menuListItemHiddenClass="dxbl-menu-list-item-hidden",i.dropdownItem="dxbl-menu-dropdown-item";class m{}a=m,m.prefix="dxbl",m.menuComponentName=a.prefix+"-menu",m.menuItemComponentName=a.menuComponentName+"-item",m.menuNavBarComponentName=a.menuComponentName+"-navbar",m.menuItemsContainerSelector=`.${i.menuBar} ul.${i.navigation}`;class r extends CustomEvent{constructor(e){super(r.eventName,{bubbles:!0,composed:!0,detail:new c(e)})}}r.eventName=`${m.menuComponentName}.collapse-changed`;class c{constructor(e){this.collapsed=e}}n.register(r.eventName,(e=>e.detail));class u extends CustomEvent{constructor(e){super(u.eventName,{bubbles:!0,composed:!0,detail:e})}}u.eventName=`${m.menuItemComponentName}.connected`;class l extends CustomEvent{constructor(e){super(l.eventName,{bubbles:!0,composed:!0,detail:e})}}l.eventName=`${m.menuItemComponentName}.disconnected`;let d=class extends t{constructor(){super(),this._prevActiveElement=null,this.menu=null,this.adaptivePriority=-1,this.canCrop=!1,this.isVisible=!1,this._onButtonFocusInHandler=this.onButtonFocusIn.bind(this),this.subscribeToEvents()}connectedCallback(){super.connectedCallback(),this.dispatchEvent(new u(this))}disconnectedCallback(){super.disconnectedCallback(),this.dispatchEvent(new l(this))}isDropDownItem(e){return e.classList.contains(i.dropdownItem)}subscribeToEvents(){this.addEventListener("pointerdown",(e=>{e.target instanceof HTMLElement&&this.isDropDownItem(e.target)&&(document.activeElement instanceof HTMLElement&&(this._prevActiveElement=document.activeElement),e.target.addEventListener("focusin",this._onButtonFocusInHandler))}))}onButtonFocusIn(e){e.currentTarget&&(e.currentTarget.removeEventListener("focusin",this._onButtonFocusInHandler),this._prevActiveElement?this._prevActiveElement.focus():e.currentTarget.blur())}};e([s({type:Number,attribute:"adaptive-priority"})],d.prototype,"adaptivePriority",void 0),e([s({type:Boolean,attribute:"can-crop"})],d.prototype,"canCrop",void 0),d=e([o(m.menuItemComponentName)],d);const p=Object.freeze({__proto__:null,get DxMenuItem(){return d},default:{loadModule:function(){}}});export{d as D,m as M,i as a,l as b,u as c,r as d,p as e};
