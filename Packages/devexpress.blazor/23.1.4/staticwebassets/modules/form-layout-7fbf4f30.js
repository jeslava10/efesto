import{d as t}from"./dom-f93f7533.js";import{C as o}from"./css-classes-f3f8ed66.js";import{D as e}from"./dx-html-element-base-3906936e.js";import{T as n}from"./text-editor-f74d98c0.js";import{g as i,C as r,d as a}from"./dom-utils-04e3c6d2.js";import"./_tslib-6e8ca86b.js";import"./data-qa-utils-8be7c726.js";import"./dx-html-element-pointer-events-helper-4b46ddbf.js";import"./eventhelper-8570b930.js";import"./pointer-event-helper-ba4ce1e1.js";import"./constants-58283e53.js";import"./single-slot-element-base-d44a6577.js";import"./dx-ui-element-7f5e2dd2.js";import"./logicaltreehelper-bc8e12d3.js";import"./layouthelper-dc0e1370.js";import"./rect-00eb3fa4.js";import"./point-e4ec110e.js";import"./lit-element-base-7a85dca5.js";import"./lit-element-70cf14f4.js";import"./custom-events-helper-18f7786a.js";import"./constants-2d0e11b4.js";import"./property-d3853089.js";class s{}s.Root=o.Prefix+"-fl",s.Loading=s.Root+"-loading",s.RowBreak=s.Root+"-row-break",s.Group=s.Root+"-group",s.GroupDecoration=s.Root+"-gd",s.GroupTab=s.Root+"-gt",s.GroupHeaderTemplate=s.Root+"-group-header-tmpl",s.Item=s.Root+"-item",s.TabItem=s.Root+"-tab-item",s.Caption=s.Root+"-cpt",s.EmptyCaption=s.Root+"-empty-caption",s.BeginRow=s.Root+"-begin-row",s.TabContent=s.Root+"-tab-content",s.ItemContentWithCaption=s.Root+"-ctrl",s.ItemContentWithoutCaption=s.Root+"-ctrl-nc",s.ItemHorizontal=s.Root+"-item-horizontal",s.HeaderContentTemplate=s.Root+"-header-content-tmpl",s.CaptionTemplate=s.Root+"-caption-tmpl",s.ItemCaptionWidthCalculation=s.Root+"-calc",s.Row=o.Prefix+"-row";class l{}l.Group=o.Prefix+"-group",l.Header=l.Group+"-header",l.Body=l.Group+"-body",l.BodyContent=l.Body+"-content";const p="dxbl-form-layout-item";var c;!function(t){t.v4="v4",t.v5="v5"}(c||(c={}));const m={};function u(o){!function(o,e,n){const r=m[o]||(m[o]=t.DomUtils.getCurrentStyle(document.body).getPropertyValue(o)||e);if(r){const t=i();t&&t.insertRule("@media (min-width: "+r+") {\n"+n+"\n}\n",t.cssRules.length)}}("--breakpoint-lg","992px",o)}const d=s.Root,f=s.Group,h=s.ItemCaptionWidthCalculation,C=` > .${s.Caption}`,$=`.${s.Item}.${s.ItemHorizontal}`,b=`.${s.TabItem}.${s.ItemHorizontal}`,g=` > .${l.Group} > .${l.Body} > .${l.BodyContent}`,y=/\./g;function R(t){return t.replace(y,"\\$&")}function I(t){return document.getElementById(t)}function j(t,o,e){if(!I(t))return;const n=document.getElementById(o);n&&v(n,t,!0,e)}function x(t,o){o&&v(o,t,!1,!1)}function v(e,n,i,r){let l=0;t.DomUtils.addClassName(e,h);const c=e.classList.contains(s.GroupDecoration),m=!r,y=i?function(t,o,e){const n="#"+o.id,i=` .${s.Row} > ${b}`+C;if(e){return w(t,o.querySelectorAll(`${n}${i}, ${n} ${i}`))}return Array.prototype.slice.call(o.querySelectorAll(`:scope >${i}`))}(n,e,r):function(t,e,n,i){const r=` > .${s.Row} > ${p}:not(.${s.Group}):not(.${s.GroupTab})${$}${C}`,a=g+r;if(n)return w(t,e.querySelectorAll(`${p}:not(.${s.TabItem}):not(.${o.Invisible})`+$+C));const l=i?a:r;return Array.prototype.slice.call(e.querySelectorAll(`:scope${l}`))}(n,e,r,c);l=function(t){let o=0;if(t.length>0){const e=t.find(T);let n="0 px";e&&(n=window.getComputedStyle(e,null).getPropertyValue("height"));for(let e=0;e<t.length;e++){const i=t[e].offsetWidth;F(t[e])&&(t[e].style.height=n);const r=t[e].parentNode;r&&i>o&&i<r.offsetWidth&&(o=i)}}return o>0?o+1:0}(y),function(t,o,e,n,i,r){if(0===e)return;if(!o.itemCaptionWidth||e>o.itemCaptionWidth){o.itemCaptionWidth=e;const l=` > .${s.Row} > `+$,c=g+l,m=function(t,o){const e=I(t);if(!e)return null;let n=`.${s.Root}`,i=e;for(;i;)n=" #"+R(i.id)+n,i=a(i.parentNode,d);n.slice(1);let r="",l=o;for(;l&&l!==e&&e.contains(l);)l.id&&(r=" #"+R(l.id)+r),l=a(l.parentNode,f);return n+=r,n}(t,o);let h="";h=r?n?` > .${s.Row} > ${b}`:i?c:l:n?` ${b}`:` ${p}:not(.${s.TabItem})${$}`;let y=m+h+`${C} {\n width:`+e+"px;\n}\n";y+=m+h+` > .${s.ItemContentWithCaption}:not(img):not(.${s.EmptyCaption} + .${s.ItemContentWithCaption}):not(.${s.ItemContentWithoutCaption}) {\n width: calc(100% - `+e+"px);\n}\n",u(y)}}(n,e,l,i,c,m),t.DomUtils.removeClassName(e,h)}function w(t,o){const e=I(t);return r(o,(t=>a(t,d)===e))}function T(t){return!F(t)}function F(t){return t.classList.contains(s.EmptyCaption)}function G(o,e){const n=I(o);n&&(v(n,o,!1,e),t.DomUtils.removeClassName(n,s.Loading))}customElements.define(p,class extends e{constructor(){super(),this._captionFor=null}get captionFor(){return this._captionFor}set captionFor(t){this._captionFor=t}connectedCallback(){super.connectedCallback()}initializeComponent(){super.initializeComponent(),this.initCaptionForInput()}initCaptionForInput(){var t;const o=this.getCaption();if(o&&""!==this.captionFor){const e=this.captionFor||(null===(t=this.getEditorInput())||void 0===t?void 0:t.id);e&&(o.htmlFor=e)}}getCaption(){return this.querySelector(`:scope > .${s.Caption}`)}getEditorInput(){return this.querySelector(`.${n.TextEdit} > input, .${n.TextEdit} > textarea, .dxbl-checkbox-check-element > input`)}static get observedAttributes(){return["caption-for"]}attributeChangedCallback(t,o,e){if("caption-for"===t)this.captionFor=e}});const W={init:G,createAdaptivityCssRulesForTab:j,createAdaptivityCssRulesForGroup:x};export{x as createAdaptivityCssRulesForGroup,j as createAdaptivityCssRulesForTab,W as default,G as init};
